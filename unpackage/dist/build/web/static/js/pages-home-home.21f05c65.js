(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-home"],{"01fc":function(e,t,a){var r=a("c86c");t=r(!1),t.push([e.i,"[data-v-49e4c6ac] ::-webkit-scrollbar{display:none;width:0;height:0}.params[data-v-49e4c6ac]{width:98%;height:560px;background-color:#fff;margin-top:10px;border-radius:10px;box-shadow:-2px 5px 10px #d0d2d6;padding:10px\n}",""]),e.exports=t},"042b":function(e,t,a){"use strict";var r=a("bd9a"),n=a.n(r);n.a},"0781":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"roles"},[a("el-button",{staticClass:"roles-button",staticStyle:{"margin-buttom":"10rpx"},attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.DialogVisible=!0}}},[e._v("添加角色")]),a("el-dialog",{attrs:{title:"添加角色",visible:e.DialogVisible},on:{"update:visible":function(t){arguments[0]=t=e.$handleEvent(t),e.DialogVisible=t},close:function(t){arguments[0]=t=e.$handleEvent(t),e.empty.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"eddRoles-dialog"},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{staticClass:"addName",attrs:{placeholder:"请输入角色名称"},model:{value:e.roleName,callback:function(t){e.roleName=t},expression:"roleName"}})],1),a("el-form-item",{attrs:{label:"角色描述"}},[a("el-input",{staticClass:"addDesc",attrs:{type:"textarea",placeholder:"请输入角色描述"},model:{value:e.roleDesc,callback:function(t){e.roleDesc=t},expression:"roleDesc"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.DialogVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addRoles.apply(void 0,arguments)}}},[e._v("确定")])],1)],1),a("v-uni-scroll-view",{staticClass:"scroll-hide-sc",staticStyle:{width:"100%",height:"80%","margin-top":"10rpx"},attrs:{"scroll-y":"true","show-scrollbar":!0}},[a("el-table",{staticClass:"roles-table",attrs:{data:e.rolesList,border:!0,stripe:!0}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.children,(function(r,n){return a("el-row",{key:r.id,class:["role-bottom",0===n?"role-top":"","vcenter"]},[a("el-col",{attrs:{span:5}},[a("el-tag",{key:r.id,staticClass:"el-tag-style",attrs:{closable:!0,"disable-transitions":!1},on:{close:function(a){arguments[0]=a=e.$handleEvent(a),e.removeRoleById(t.row,r.id)}}},[e._v(e._s(r.authName))]),a("i",{staticClass:"el-icon-caret-right"})],1),a("el-col",{attrs:{span:19}},e._l(r.children,(function(r,n){return a("el-row",{key:r.id,class:[0===n?"":"role-top","vcenter"]},[a("el-col",{attrs:{span:6}},[a("el-tag",{key:r.id,attrs:{closable:!0,type:"success","disable-transitions":!1},on:{close:function(a){arguments[0]=a=e.$handleEvent(a),e.removeRoleById(t.row,r.id)}}},[e._v(e._s(r.authName))]),a("i",{staticClass:"el-icon-caret-right"})],1),a("el-col",{attrs:{span:18}},e._l(r.children,(function(r,n){return a("el-tag",{key:r.id,attrs:{closable:!0,type:"warning","disable-transitions":!1},on:{close:function(a){arguments[0]=a=e.$handleEvent(a),e.removeRoleById(t.row,r.id)}}},[e._v(e._s(r.authName))])})),1)],1)})),1)],1)}))}}])}),a("el-table-column",{attrs:{type:"index",label:"#"}}),a("el-table-column",{attrs:{prop:"roleName",label:"角色名称"}}),a("el-table-column",{attrs:{prop:"roleDesc",label:"角色描述"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑角色",placement:"top-end",enterable:!1}},[a("el-button",{staticClass:"roles-item",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.showDialogVisible(t)}}})],1),a("el-dialog",{attrs:{title:"编辑角色",visible:e.editDialogVisible},on:{"update:visible":function(t){arguments[0]=t=e.$handleEvent(t),e.editDialogVisible=t},close:function(t){arguments[0]=t=e.$handleEvent(t),e.empty.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"editRoles"},[a("el-form",{attrs:{"label-position":"right","label-width":"80px",model:e.editRoleForm}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{attrs:{placeholder:"请修改角色名称"},model:{value:e.editRoleForm.roleName,callback:function(t){e.$set(e.editRoleForm,"roleName",t)},expression:"editRoleForm.roleName"}})],1),a("el-form-item",{attrs:{label:"角色描述"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请修改角色描述"},model:{value:e.editRoleForm.roleDesc,callback:function(t){e.$set(e.editRoleForm,"roleDesc",t)},expression:"editRoleForm.roleDesc"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.editDialogVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.editRole()}}},[e._v("确定")])],1)],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除角色",placement:"top-end",enterable:!1}},[a("el-popconfirm",{attrs:{title:"确定删除这个角色吗？"},on:{confirm:function(a){arguments[0]=a=e.$handleEvent(a),e.deleteRole(t.row)}}},[a("el-button",{staticClass:"roles-item",attrs:{slot:"reference",type:"danger",icon:"el-icon-delete"},slot:"reference"})],1)],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"分配权限",placement:"top-end",enterable:!1}},[a("el-button",{staticClass:"roles-item",attrs:{type:"warning",icon:"el-icon-setting"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.assignPermission(t.row)}}})],1),a("el-dialog",{attrs:{title:"分配权限",visible:e.assiginVisible},on:{"update:visible":function(t){arguments[0]=t=e.$handleEvent(t),e.assiginVisible=t},close:function(t){arguments[0]=t=e.$handleEvent(t),e.empty.apply(void 0,arguments)}}},[a("el-tree",{ref:"treeRef",attrs:{data:e.rightsList,props:e.treeProps,"show-checkbox":!0,"node-key":"id","default-expand-all":!0,"default-checked-keys":e.leafKeys}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.assiginVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.allotRights.apply(void 0,arguments)}}},[e._v("确定")])],1)],1)]}}])})],1)],1)],1)},n=[]},"08b1":function(e,t,a){"use strict";a.r(t);var r=a("3875"),n=a("fbb7");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("9e66");var i=a("828b"),l=Object(i["a"])(n["default"],r["b"],r["c"],!1,null,"2116f281",null,!1,r["a"],void 0);t["default"]=l.exports},"08b6":function(e,t,a){var r=a("c86c");t=r(!1),t.push([e.i,"[data-v-2116f281] ::-webkit-scrollbar{display:none;width:0;height:0}.rights[data-v-2116f281]{width:100%;background-color:#fff;margin-top:10px;border-radius:10px;box-shadow:-2px 5px 10px #d0d2d6}",""]),e.exports=t},"0a8f":function(e,t,a){"use strict";a.r(t);var r=a("de76"),n=a.n(r);for(var s in r)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(s);t["default"]=n.a},2382:function(e,t,a){"use strict";a.r(t);var r=a("41a0"),n=a.n(r);for(var s in r)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(s);t["default"]=n.a},"2e5c":function(e,t,a){"use strict";a("6a54");var r=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("2634")),s=r(a("2fdc"));a("5c47"),a("0506"),a("7a76"),a("c9b5"),a("c223"),a("d4b5");var i=a("fe49"),l={name:"users",data:function(){return{users:[],status:"",total:0,queryInfo:{query:"",pagenum:1,pagesize:1},dialogVisible:!1,editdialogVisible:!1,assignmentVisible:!1,addUserForm:{username:"",password:"",email:"",mobile:""},editUserForm:{id:"",email:"",mobile:""},selectedRoleId:"",assignmentRole:[],addFromRules:{username:[{required:!0,message:"请输入用户名称",trigger:"blur"},{min:3,max:10,message:"用户名在3~10个字符之间",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"密码在6-15个字符之间",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:function(e,t,a){if(/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(t))return a();a(new Error("邮箱格式不对"))},trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:function(e,t,a){if(/^1[3456789]\d{9}$/.test(t))return a();a(new Error("手机号格式不对"))},trigger:"blur"}]},getRoleList:[]}},methods:{saveRole:function(e){var t=this;return(0,s.default)((0,n.default)().mark((function a(){var r;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(console.log(e),t.selectedRoleId){a.next=3;break}return a.abrupt("return",t.$message.error("请选择要分配的角色"));case 3:return a.next=5,(0,i.put)("users/".concat(e.id,"/role"),{rid:t.selectedRoleId});case 5:r=a.sent,console.log(r),t.getUserList(),assignmentVisible=!1;case 9:case"end":return a.stop()}}),a)})))()},getUserList:function(){var e=this;return(0,s.default)((0,n.default)().mark((function t(){var a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,i.get)("/users",e.queryInfo);case 2:a=t.sent,200!==a.meta.status&&e.$message.error(a.meta.msg),e.users=a.data.users,e.total=a.data.total;case 6:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.queryInfo.pagesize=e,this.getUserList()},handleCurrentChange:function(e){this.queryInfo.pagenum=e,this.getUserList()},userStateChanged:function(e){var t=this;return(0,s.default)((0,n.default)().mark((function a(){var r;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,(0,i.put)("/users/".concat(e.id,"/state/").concat(e.mg_state));case 2:if(r=a.sent,200===r.meta.status){a.next=7;break}return console.log(r.meta.msg),e.mg_state=!e.mg_state,a.abrupt("return",t.$messgae.error("更新用户状态失败"));case 7:t.$message.success("更新用户成功");case 8:case"end":return a.stop()}}),a)})))()},addDialogClose:function(){this.$refs.addUserFromRefs.resetFields()},addUser:function(){var e=this;this.$refs.addUserFromRefs.validate(function(){var t=(0,s.default)((0,n.default)().mark((function t(a){var r;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=8;break}return t.next=3,(0,i.post)("/users",e.addUserForm);case 3:r=t.sent,e.$message.success("添加用户成功"),console.log(r),e.getUserList(),e.dialogVisible=!1;case 8:if(201===res.meta.status){t.next=10;break}return t.abrupt("return",e.$message.error("添加用户失败"));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},showEditDialog:function(e){this.editdialogVisible=!0,this.editUserForm=JSON.parse(JSON.stringify(e.row)),console.log(this.editUserForm)},editUser:function(){var e=this;return(0,s.default)((0,n.default)().mark((function t(){var a,r;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.editUserForm.id,t.next=3,(0,i.put)("/users/".concat(a),e.editUserForm);case 3:if(r=t.sent,e.editdialogVisible=!1,200===r.meta.status){t.next=7;break}return t.abrupt("return",e.$message.error("更新用户失败"));case 7:e.$message.success("更新用户成功"),e.getUserList();case 9:case"end":return t.stop()}}),t)})))()},deleteUser:function(e){var t=this;return(0,s.default)((0,n.default)().mark((function a(){var r;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,(0,i.del)("/users/".concat(e),e);case 2:if(r=a.sent,200===r.meta.status){a.next=5;break}return a.abrupt("return",t.$message.error("删除用户失败"));case 5:t.$message.success("用户删除成功"),t.getUserList();case 7:case"end":return a.stop()}}),a)})))()},showAssignment:function(e){var t=this;return(0,s.default)((0,n.default)().mark((function a(){var r;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e),t.assignmentVisible=!0,t.assignmentRole=JSON.parse(JSON.stringify(e)),console.log(t.assignmentRole),a.next=6,(0,i.get)("/roles");case 6:r=a.sent,t.getRoleList=r.data;case 8:case"end":return a.stop()}}),a)})))()}},created:function(){this.getUserList()}};t.default=l},"2f8e":function(e,t,a){var r=a("4ca4");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("967d").default;n("bb7f64da",r,!0,{sourceMap:!1,shadowMode:!1})},"31e3":function(e,t,a){"use strict";a.r(t);var r=a("5d86"),n=a("541c");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("8aac");var i=a("828b"),l=Object(i["a"])(n["default"],r["b"],r["c"],!1,null,"4884299b",null,!1,r["a"],void 0);t["default"]=l.exports},3394:function(e,t,a){"use strict";var r=a("2f8e"),n=a.n(r);n.a},3875:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"rights",staticStyle:{"border-radius":"10px"}},[a("v-uni-scroll-view",{staticStyle:{height:"580px",width:"100%","border-radius":"10px"},attrs:{"scroll-y":"true"}},[a("el-table",{staticClass:"rights-table",staticStyle:{"border-radius":"10px"},attrs:{data:e.rightsList,border:!0,stripe:!0}},[a("el-table-column",{attrs:{type:"index",label:"#"}}),a("el-table-column",{attrs:{prop:"authName",label:"权限名称"}}),a("el-table-column",{attrs:{prop:"path",label:"路径"}}),a("el-table-column",{attrs:{prop:"level",label:"权限等级"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"===t.row.level?a("el-tag",[e._v("一级")]):e._e(),"1"===t.row.level?a("el-tag",{attrs:{type:"success"}},[e._v("二级")]):e._e(),"2"===t.row.level?a("el-tag",{attrs:{type:"warning"}},[e._v("三级")]):e._e()]}}])})],1)],1)],1)},n=[]},"3bb3":function(e,t,a){"use strict";a.r(t);var r=a("5a93"),n=a("2382");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("5293");var i=a("828b"),l=Object(i["a"])(n["default"],r["b"],r["c"],!1,null,"fdd0ed4e",null,!1,r["a"],void 0);t["default"]=l.exports},"41a0":function(e,t,a){"use strict";a("6a54");var r=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bf0f"),a("aa9c"),a("3efd");var n=r(a("2634")),s=r(a("2fdc")),i=r(a("9004")),l=a("fe49"),o={name:"home",data:function(){return{isCollapse:!1,menuList:[],currentPagePath:"/users",realPath:"",breadcrumb:[]}},components:{roles:function(){return Promise.resolve().then((function(){return(0,i.default)(a("42de"))}))},rights:function(){return Promise.resolve().then((function(){return(0,i.default)(a("08b1"))}))},users:function(){return Promise.resolve().then((function(){return(0,i.default)(a("92d7"))}))},goods:function(){return Promise.resolve().then((function(){return(0,i.default)(a("dcb1"))}))},params:function(){return Promise.resolve().then((function(){return(0,i.default)(a("4a33"))}))},categories:function(){return Promise.resolve().then((function(){return(0,i.default)(a("31e3"))}))},orders:function(){return Promise.resolve().then((function(){return(0,i.default)(a("f9bc"))}))},reports:function(){return Promise.resolve().then((function(){return(0,i.default)(a("75b4"))}))},addgoods:function(){return Promise.resolve().then((function(){return(0,i.default)(a("d356"))}))}},computed:{dynamicComponent:function(){switch(this.currentPagePath){case"/roles":return"roles";case"/rights":return"rights";case"/users":return"users";case"/goods":return"goods";case"/params":return"params";case"/categories":return"categories";case"/orders":return"orders";case"/reports":return"reports";case"pages/goods/addgoods.vue":return"addgoods";default:return null}}},methods:{back:function(){window.sessionStorage.removeItem("token"),uni.navigateTo({url:"/pages/login/login"})},getMenuList:function(){var e=this;return(0,s.default)((0,n.default)().mark((function t(){var a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,l.get)("/menus");case 2:if(a=t.sent,200===a.meta.status){t.next=5;break}return t.abrupt("return",e.$message.error(a.meta.msg));case 5:e.menuList=a.data,console.log(a);case 7:case"end":return t.stop()}}),t)})))()},iscollapse:function(){this.isCollapse=!this.isCollapse},handlePageChange:function(e){var t=e.__file;this.currentPagePath=t},changePath:function(e,t){this.realPath="/"+e,this.currentPagePath=this.realPath,this.updatebreadcrumb(t)},updatebreadcrumb:function(e){var t=[];this.findBreadcrumb(this.menuList,e,t),this.breadcrumb=t},findBreadcrumb:function(e,t,a){for(var r=0;r<e.length;r++){var n=e[r];if(n.id===t)return a.push(n),!0;if(n.children&&this.findBreadcrumb(n.children,t,a))return a.unshift(n),!0}return!1}},created:function(){var e=window.sessionStorage.getItem("token");e?console.log("存在token，以登录过"):this.$router.push("/pages/login/login"),this.getMenuList()}};t.default=o},"42de":function(e,t,a){"use strict";a.r(t);var r=a("0781"),n=a("0a8f");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("3394");var i=a("828b"),l=Object(i["a"])(n["default"],r["b"],r["c"],!1,null,"75cf2db4",null,!1,r["a"],void 0);t["default"]=l.exports},"4a33":function(e,t,a){"use strict";a.r(t);var r=a("4f14"),n=a("678d");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("b97b");var i=a("828b"),l=Object(i["a"])(n["default"],r["b"],r["c"],!1,null,"49e4c6ac",null,!1,r["a"],void 0);t["default"]=l.exports},"4ca4":function(e,t,a){var r=a("c86c");t=r(!1),t.push([e.i,"[data-v-75cf2db4] ::-webkit-scrollbar{display:none;width:0;height:0}.el-tag[data-v-75cf2db4]{margin-top:10px;margin-bottom:10px;margin-left:10px}.roles[data-v-75cf2db4]{width:100%;height:590px;background-color:#fff;margin-top:10px;border-radius:5px;box-shadow:-2px 5px 10px #d0d2d6;padding:%?20?%;box-sizing:border-box}.roles-button[data-v-75cf2db4]{margin-top:20px;margin-left:20px}.roles-table[data-v-75cf2db4]{width:97%;margin-top:10px;margin-left:20px}.roles-item[data-v-75cf2db4]{width:30%;margin-left:10px}.role-top[data-v-75cf2db4]{border-top:1px solid #eee}.role-bottom[data-v-75cf2db4]{border-bottom:1px solid #eee}.vcenter[data-v-75cf2db4]{display:flex;align-items:center}.addName[data-v-75cf2db4]{width:70%;margin-left:10%;margin-bottom:10px}.addDesc[data-v-75cf2db4]{width:70%;margin-left:10%;margin-bottom:10px}",""]),e.exports=t},"4f14":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"params"},[a("el-alert",{attrs:{title:"注意:只允许为第三级分类设置相关参数",type:"warning",closable:!1,"show-icon":!0}}),a("el-form",{staticStyle:{"margin-top":"10px"},attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"选择商品分类 :"}},[a("el-cascader",{staticStyle:{width:"300px"},attrs:{options:e.params,props:{expandTrigger:"hover",value:"cat_id",label:"cat_name",children:"children"}},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.handleChange.apply(void 0,arguments)}},model:{value:e.param,callback:function(t){e.param=t},expression:"param"}})],1)],1),a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"动态参数",name:"first"}},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addParams.apply(void 0,arguments)}}},[e._v("添加参数")]),a("el-dialog",{attrs:{title:"添加参数",visible:e.addParamsVisible},on:{"update:visible":function(t){arguments[0]=t=e.$handleEvent(t),e.addParamsVisible=t},close:function(t){arguments[0]=t=e.$handleEvent(t),e.empty.apply(void 0,arguments)}}},[a("el-form",{ref:"addAttrRef",attrs:{"label-width":"100px",model:e.addAttr,rules:e.addAttrRules}},[a("el-form-item",{attrs:{label:"参数名称 :",prop:"attr_name"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请设置参数名称"},model:{value:e.addAttr.attr_name,callback:function(t){e.$set(e.addAttr,"attr_name",t)},expression:"addAttr.attr_name"}})],1),a("el-form-item",{attrs:{label:"设置参数 :",prop:"attr_sel"}},[a("el-select",{attrs:{clearable:!0},model:{value:e.addAttr.attr_sel,callback:function(t){e.$set(e.addAttr,"attr_sel",t)},expression:"addAttr.attr_sel"}},[a("el-option",{attrs:{label:"静态参数",value:"only"}}),a("el-option",{attrs:{label:"动态参数",value:"many"}})],1)],1),a("el-form-item",{attrs:{label:"动态参数值 :"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"选择了动态参数可填"},model:{value:e.addAttr.attr_vals,callback:function(t){e.$set(e.addAttr,"attr_vals",t)},expression:"addAttr.attr_vals"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addParamsVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addAttrSure.apply(void 0,arguments)}}},[e._v("确定")])],1)],1),a("v-uni-scroll-view",{staticStyle:{height:"360px","margin-top":"10rpx"},attrs:{"scroll-y":"true","show-scrollbar":!0}},[a("el-table",{attrs:{data:e.paramsManyList,border:!0}},[a("el-table-column",{attrs:{type:"expand"}}),a("el-table-column",{attrs:{type:"index",label:"#"}}),a("el-table-column",{attrs:{label:"参数名称",prop:"attr_name"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{content:"编辑",effect:"dark",placement:"top-end",enterable:!1}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.editParams(t)}}},[e._v("编辑")])],1),a("el-dialog",{attrs:{title:"编辑参数",visible:e.editAttrVisible},on:{"update:visible":function(t){arguments[0]=t=e.$handleEvent(t),e.editAttrVisible=t}}},[a("el-form",{ref:"editAttrRef",attrs:{model:e.editAttr,"label-width":"100px",rules:e.editAttrRules}},[a("el-form-item",{attrs:{label:"参数名称 :",prop:"attr_name"}},[a("el-input",{model:{value:e.editAttr.attr_name,callback:function(t){e.$set(e.editAttr,"attr_name",t)},expression:"editAttr.attr_name"}})],1),a("el-form-item",{attrs:{label:"参数类型 :",prop:"attr_sel"}},[a("el-select",{attrs:{clearable:!0},model:{value:e.editAttr.attr_sel,callback:function(t){e.$set(e.editAttr,"attr_sel",t)},expression:"editAttr.attr_sel"}},[a("el-option",{attrs:{label:"静态参数",value:"only"}}),a("el-option",{attrs:{label:"动态参数",value:"many"}})],1)],1),a("el-form-item",{attrs:{label:"动态参数值 :"}},[a("el-input",{model:{value:e.editAttr.attr_vals,callback:function(t){e.$set(e.editAttr,"attr_vals",t)},expression:"editAttr.attr_vals"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.editAttrVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.editAttrSure.apply(void 0,arguments)}}},[e._v("确定")])],1)],1),a("el-tooltip",{staticClass:"item",attrs:{content:"删除",effect:"dark",placement:"top-end",enterable:!1}},[a("el-popconfirm",{attrs:{title:"确定删除这个参数吗？"},on:{confirm:function(a){arguments[0]=a=e.$handleEvent(a),e.deleteAttr(t.row)}}},[a("el-button",{attrs:{slot:"reference",type:"danger",size:"mini",icon:"el-icon-delete"},slot:"reference"},[e._v("删除")])],1)],1)]}}])})],1)],1)],1),a("el-tab-pane",{attrs:{label:"静态参数",name:"second"}},[a("v-uni-scroll-view",{staticStyle:{height:"390px","margin-top":"10rpx"},attrs:{"scroll-y":"true","show-scrollbar":!0}},[a("el-table",{attrs:{data:e.paramsOnlyList,border:!0}},[a("el-table-column",{attrs:{type:"expand"}}),a("el-table-column",{attrs:{type:"index",label:"#"}}),a("el-table-column",{attrs:{label:"参数名称",prop:"attr_name"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{content:"编辑",effect:"dark",placement:"top-end",enterable:!1}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.editParams(t)}}},[e._v("编辑")])],1),a("el-dialog",{attrs:{title:"编辑参数",visible:e.editAttrVisible},on:{"update:visible":function(t){arguments[0]=t=e.$handleEvent(t),e.editAttrVisible=t}}},[a("el-form",{ref:"editAttrRef",attrs:{model:e.editAttr,"label-width":"100px",rules:e.editAttrRules}},[a("el-form-item",{attrs:{label:"参数名称 :",prop:"attr_name"}},[a("el-input",{model:{value:e.editAttr.attr_name,callback:function(t){e.$set(e.editAttr,"attr_name",t)},expression:"editAttr.attr_name"}})],1),a("el-form-item",{attrs:{label:"参数类型 :",prop:"attr_sel"}},[a("el-select",{attrs:{clearable:!0},model:{value:e.editAttr.attr_sel,callback:function(t){e.$set(e.editAttr,"attr_sel",t)},expression:"editAttr.attr_sel"}},[a("el-option",{attrs:{label:"静态参数",value:"only"}}),a("el-option",{attrs:{label:"动态参数",value:"many"}})],1)],1),a("el-form-item",{attrs:{label:"动态参数值 :"}},[a("el-input",{model:{value:e.editAttr.attr_vals,callback:function(t){e.$set(e.editAttr,"attr_vals",t)},expression:"editAttr.attr_vals"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.editAttrVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.editAttrSure.apply(void 0,arguments)}}},[e._v("确定")])],1)],1),a("el-tooltip",{staticClass:"item",attrs:{content:"删除",effect:"dark",placement:"top-end",enterable:!1}},[a("el-popconfirm",{attrs:{title:"确定删除这个参数吗？"},on:{confirm:function(a){arguments[0]=a=e.$handleEvent(a),e.deleteAttr(t.row)}}},[a("el-button",{attrs:{slot:"reference",type:"danger",size:"mini",icon:"el-icon-delete"},slot:"reference"},[e._v("删除")])],1)],1)]}}])})],1)],1)],1)],1)],1)},n=[]},"4fab":function(e,t,a){"use strict";a("6a54");var r=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("2634")),s=r(a("9b1b")),i=r(a("2fdc")),l=a("fe49"),o=a("813b"),c={name:"reports",data:function(){return{chart:null,newOption:{},options:{title:{text:"用户来源"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#E9EEF3"}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{boundaryGap:!1}],yAxis:[{type:"value"}]}}},mounted:function(){var e=this;return(0,i.default)((0,n.default)().mark((function t(){var a,r,i;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,l.get)("/reports/type/1");case 2:a=t.sent,console.log(a),r=(0,s.default)((0,s.default)({},e.option),a.data),console.log(r),i=o.init(document.getElementById("chart")),i.setOption(r);case 8:case"end":return t.stop()}}),t)})))()},methods:{}};t.default=c},5293:function(e,t,a){"use strict";var r=a("f071"),n=a.n(r);n.a},"541c":function(e,t,a){"use strict";a.r(t);var r=a("e7c2"),n=a.n(r);for(var s in r)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(s);t["default"]=n.a},"5a93":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"container"},[a("el-container",[a("el-header",[a("v-uni-view",{staticClass:"header-main"},[a("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:"/static/appLogo.png"}}),a("span",{staticStyle:{color:"white"}},[e._v("电商后台管理系统")])],1),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.back.apply(void 0,arguments)}}},[e._v("返回")])],1),a("el-container",[a("el-aside",{staticStyle:{width:"210px"},attrs:{"background-color":"#333744"}},[a("v-uni-view",{staticClass:"collapse-button",style:{width:e.isCollapse?"64px":"200px"},attrs:{collapse:e.isCollapse},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.iscollapse.apply(void 0,arguments)}}},[e._v("|||")]),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"collapse-transition":!1,"unique-opened":!0,"background-color":"#333744","text-color":"#fff","active-text-color":"#409EFF",collapse:e.isCollapse}},e._l(e.menuList,(function(t){return a("el-submenu",{key:t.id,attrs:{index:t.id.toString()}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-user-solid"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.authName))])]),e._l(t.children,(function(t){return a("el-menu-item",{key:t.id,attrs:{index:t.id.toString()},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.changePath(t.path,t.id)}}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.authName))])])}))],2)})),1)],1),a("el-main",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._l(e.breadcrumb,(function(t,r){return a("el-breadcrumb-item",{key:r},[e._v(e._s(t.authName))])}))],2),a(e.dynamicComponent,{tag:"component",on:{"change-page":function(t){arguments[0]=t=e.$handleEvent(t),e.handlePageChange.apply(void 0,arguments)}}}),a("router-view")],1)],1)],1)],1)},n=[]},"5d86":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"categories"},[a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showAddcate.apply(void 0,arguments)}}},[e._v("添加分类")]),a("el-dialog",{attrs:{title:"添加分类",visible:e.cateVisible},on:{"update:visible":function(t){arguments[0]=t=e.$handleEvent(t),e.cateVisible=t},close:function(t){arguments[0]=t=e.$handleEvent(t),e.empty.apply(void 0,arguments)}}},[a("el-form",{ref:"addCateFormRef",attrs:{"label-width":"20%",model:e.addCateForm,rules:e.addCateFormRules}},[a("el-form-item",{attrs:{label:"分类名称:",prop:"cat_name"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入分类名称"},model:{value:e.addCateForm.cat_name,callback:function(t){e.$set(e.addCateForm,"cat_name",t)},expression:"addCateForm.cat_name"}})],1),a("el-form-item",{attrs:{label:"父级分类:"}},[a("el-cascader",{ref:"cascaderRef",attrs:{options:e.parentCateList,props:{expandTrigger:"hover",checkStrictly:!0,value:"cat_id",label:"cat_name",children:"children"},clearable:!0},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.parentCateChange.apply(void 0,arguments)}},model:{value:e.parentCate,callback:function(t){e.parentCate=t},expression:"parentCate"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cateVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addcategories.apply(void 0,arguments)}}},[e._v("确定")])],1)],1),a("v-uni-scroll-view",{staticStyle:{width:"100%",height:"80%","margin-top":"10rpx"},attrs:{"scroll-y":"true"}},[a("tree-table",{attrs:{data:e.categoriesList,columns:e.columns,"show-index":!0,"selection-type":!1,"expand-type":!1,border:!0},scopedSlots:e._u([{key:"isok",fn:function(e){return[!1===e.row.cat_deleted?a("i",{staticClass:"el-icon-success",staticStyle:{color:"lightgreen"}}):a("i",{staticClass:"el-icon-error",staticStyle:{color:"red"}})]}},{key:"order",fn:function(t){return[0===t.row.cat_level?a("el-tag",[e._v("一级")]):1===t.row.cat_level?a("el-tag",{attrs:{type:"success"}},[e._v("二级")]):a("el-tag",{attrs:{type:"warning"}},[e._v("三级")])]}},{key:"operate",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑",placement:"top-end",enterable:!1}},[a("el-button",{attrs:{type:"primary"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.showEditCate(t)}}},[a("i",{staticClass:"el-icon-edit"},[e._v("编辑")])])],1),t.row.cat_id===e.editCateList.cat_id?a("el-dialog",{attrs:{title:"修改分类",visible:e.editCateVisible},on:{"update:visible":function(t){arguments[0]=t=e.$handleEvent(t),e.editCateVisible=t}}},[a("el-form",{ref:"editCateFormRef",attrs:{"label-width":"100px",model:e.editCateList,rules:e.editCateFormRules}},[a("el-form-item",{attrs:{label:"分类名称:",prop:"cat_name"}},[a("el-input",{staticStyle:{width:"60%","text-align":"center"},model:{value:e.editCateList.cat_name,callback:function(t){e.$set(e.editCateList,"cat_name",t)},expression:"editCateList.cat_name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.editCateVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.editCategories(e.editCateList.cat_name)}}},[e._v("确定")])],1)],1):e._e(),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top-end",enterable:!1}},[a("el-popconfirm",{attrs:{title:"确定删除该分类吗"},on:{confirm:function(a){arguments[0]=a=e.$handleEvent(a),e.delCate(t.row.cat_id)}}},[a("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[a("i",{staticClass:"el-icon-delete"},[e._v("删除")])])],1)],1)]}}])})],1),a("el-pagination",{attrs:{"current-page":e.pageInfo.pagenum,total:e.total,"page-size":e.pageInfo.pagesize,layout:"total, prev, pager, next, jumper"},on:{"size-change":function(t){arguments[0]=t=e.$handleEvent(t),e.handleSizeChange.apply(void 0,arguments)},"current-change":function(t){arguments[0]=t=e.$handleEvent(t),e.handleCurrentChange.apply(void 0,arguments)}}})],1)},n=[]},"5fe5":function(e,t,a){var r=a("c86c");t=r(!1),t.push([e.i,".container[data-v-fdd0ed4e]{background-color:#e9edf0\n/* \tposition: fixed; */}.header-main[data-v-fdd0ed4e]{display:flex;align-items:center;font-size:20px}.el-header[data-v-fdd0ed4e]{display:flex;justify-content:space-between;align-items:center;background-color:#353c3e}.el-menu-vertical-demo[data-v-fdd0ed4e]:not(.el-menu--collapse){width:200px;min-height:620px}.collapse-button[data-v-fdd0ed4e]{text-align:center;background-color:#404958;font-size:15px;cursor:pointer;color:#fff;width:200px}",""]),e.exports=t},"678d":function(e,t,a){"use strict";a.r(t);var r=a("edc7"),n=a.n(r);for(var s in r)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(s);t["default"]=n.a},7251:function(e,t,a){var r=a("01fc");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("967d").default;n("29b29416",r,!0,{sourceMap:!1,shadowMode:!1})},"75b4":function(e,t,a){"use strict";a.r(t);var r=a("f8fc"),n=a("dfa9");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("8e2c");var i=a("828b"),l=Object(i["a"])(n["default"],r["b"],r["c"],!1,null,"9deb4af2",null,!1,r["a"],void 0);t["default"]=l.exports},"7a76d":function(e,t,a){var r=a("c86c");t=r(!1),t.push([e.i,".reports[data-v-9deb4af2]{width:98%;height:560px;background-color:#fff;margin-top:10px;border-radius:10px;box-shadow:-2px 5px 10px #d0d2d6;padding:10px\n}",""]),e.exports=t},"8a6c":function(e,t,a){var r=a("7a76d");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("967d").default;n("3b0cf87d",r,!0,{sourceMap:!1,shadowMode:!1})},"8aac":function(e,t,a){"use strict";var r=a("fbe1"),n=a.n(r);n.a},"8dc8":function(e,t,a){var r=a("c86c");t=r(!1),t.push([e.i,".users[data-v-7a5271e9]{width:97.5%;\t\n\t/* height: 80vh; */background-color:#fff;margin-top:10px;border-radius:5px;box-shadow:-2px 5px 10px #d0d2d6;padding:10px}.users-top[data-v-7a5271e9]{display:inline;margin:20px}.inline-input[data-v-7a5271e9]{width:30%;margin:20px}.block[data-v-7a5271e9]{margin:20px;bottom:0}.input-item[data-v-7a5271e9]{width:70%}.addUsers[data-v-7a5271e9]{padding-left:20%}.editUsers[data-v-7a5271e9]{padding-left:20%}.button-item[data-v-7a5271e9]{margin-left:10px}",""]),e.exports=t},"8e2c":function(e,t,a){"use strict";var r=a("8a6c"),n=a.n(r);n.a},9004:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==(0,r.default)(e)&&"function"!==typeof e)return{default:e};var a=n(t);if(a&&a.has(e))return a.get(e);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=i?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(s,l,o):s[l]=e[l]}s["default"]=e,a&&a.set(e,s);return s},a("bf0f"),a("18f7"),a("d0af"),a("de6c"),a("6a54"),a("9a2c");var r=function(e){return e&&e.__esModule?e:{default:e}}(a("fcf3"));function n(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(n=function(e){return e?a:t})(e)}},"92d7":function(e,t,a){"use strict";a.r(t);var r=a("b522"),n=a("c75e");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("042b");var i=a("828b"),l=Object(i["a"])(n["default"],r["b"],r["c"],!1,null,"7a5271e9",null,!1,r["a"],void 0);t["default"]=l.exports},"9e66":function(e,t,a){"use strict";var r=a("aac9"),n=a.n(r);n.a},aac9:function(e,t,a){var r=a("08b6");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("967d").default;n("e9c0b132",r,!0,{sourceMap:!1,shadowMode:!1})},b522:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"users"},[a("v-uni-view",{staticClass:"users-top"},[a("el-input",{staticClass:"inline-input",attrs:{placeholder:"请输入内容",clearable:!0},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getUserList.apply(void 0,arguments)}},slot:"append"})],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.dialogVisible=!0}}},[e._v("添加用户")]),a("el-dialog",{attrs:{title:"添加用户",visible:e.dialogVisible},on:{"update:visible":function(t){arguments[0]=t=e.$handleEvent(t),e.dialogVisible=t},close:function(t){arguments[0]=t=e.$handleEvent(t),e.addDialogClose.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"addUsers"},[a("el-form",{ref:"addUserFromRefs",attrs:{"label-position":"right","label-width":"80px",model:e.addUserForm,rules:e.addFromRules}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{staticClass:"input-item",model:{value:e.addUserForm.username,callback:function(t){e.$set(e.addUserForm,"username",t)},expression:"addUserForm.username"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{staticClass:"input-item",model:{value:e.addUserForm.password,callback:function(t){e.$set(e.addUserForm,"password",t)},expression:"addUserForm.password"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{staticClass:"input-item",model:{value:e.addUserForm.email,callback:function(t){e.$set(e.addUserForm,"email",t)},expression:"addUserForm.email"}})],1),a("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[a("el-input",{staticClass:"input-item",model:{value:e.addUserForm.mobile,callback:function(t){e.$set(e.addUserForm,"mobile",t)},expression:"addUserForm.mobile"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.dialogVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addUser.apply(void 0,arguments)}}},[e._v("确定")])],1)],1)],1),a("v-uni-view",{staticClass:"users-content"},[a("el-table",{attrs:{data:e.users,stripe:!0,border:!0}},[a("el-table-column",{attrs:{type:"index",label:"#"}}),a("el-table-column",{attrs:{label:"姓名",prop:"username"}}),a("el-table-column",{attrs:{label:"邮箱",prop:"email"}}),a("el-table-column",{attrs:{label:"电话",prop:"mobile"}}),a("el-table-column",{attrs:{label:"角色",prop:"role_name"}}),a("el-table-column",{attrs:{label:"状态",prop:"mg_state"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{on:{change:function(a){arguments[0]=a=e.$handleEvent(a),e.userStateChanged(t.row)}},model:{value:t.row.mg_state,callback:function(a){e.$set(t.row,"mg_state",a)},expression:"scope.row.mg_state"}})]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改角色",placement:"top-end",enterable:!1}},[a("el-button",{staticClass:"button-item",attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.showEditDialog(t)}}})],1),a("el-dialog",{attrs:{title:"修改用户",visible:e.editdialogVisible},on:{"update:visible":function(t){arguments[0]=t=e.$handleEvent(t),e.editdialogVisible=t},close:function(t){arguments[0]=t=e.$handleEvent(t),e.addDialogClose.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"editUsers"},[a("el-form",{ref:"addUserFromRefs",attrs:{"label-position":"right","label-width":"80px",model:e.editUserForm,rules:e.addFromRules}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{staticClass:"input-item",attrs:{disabled:!0},model:{value:e.editUserForm.username,callback:function(t){e.$set(e.editUserForm,"username",t)},expression:"editUserForm.username"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{staticClass:"input-item",model:{value:e.editUserForm.email,callback:function(t){e.$set(e.editUserForm,"email",t)},expression:"editUserForm.email"}})],1),a("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[a("el-input",{staticClass:"input-item",model:{value:e.editUserForm.mobile,callback:function(t){e.$set(e.editUserForm,"mobile",t)},expression:"editUserForm.mobile"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.editdialogVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.editUser()}}},[e._v("确定")])],1)],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除角色",placement:"top-end",enterable:!1}},[a("el-popconfirm",{attrs:{title:"确定删除这个用户吗"},on:{confirm:function(a){arguments[0]=a=e.$handleEvent(a),e.deleteUser(t.row.id)}}},[a("el-button",{staticClass:"button-item",attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"mini"},slot:"reference"})],1)],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"分配角色",placement:"top-end",enterable:!1}},[a("el-button",{staticClass:"button-item",attrs:{type:"warning",icon:"el-icon-setting",size:"mini"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.showAssignment(t.row)}}})],1),t.row.id===e.assignmentRole.id?a("el-dialog",{attrs:{title:"分配角色",visible:e.assignmentVisible},on:{"update:visible":function(t){arguments[0]=t=e.$handleEvent(t),e.assignmentVisible=t}}},[a("el-form",{attrs:{model:e.assignmentRole}},[a("el-form-item",{attrs:{label:"当前用户:"}},[e._v(e._s(e.assignmentRole.username))]),a("el-form-item",{attrs:{label:"当前角色:"}},[e._v(e._s(e.assignmentRole.role_name))]),a("el-form-item",{attrs:{label:"分配新的角色"}},[a("el-select",{attrs:{placeholder:"请选择新的角色"},model:{value:e.selectedRoleId,callback:function(t){e.selectedRoleId=t},expression:"selectedRoleId"}},e._l(e.getRoleList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})})),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.assignmentVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.saveRole(t.row),e.assignmentVisible=!1}}},[e._v("确定")])],1)],1):e._e()]}}])})],1)],1),a("v-uni-view",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.queryInfo.pagesize,"page-sizes":[1,2,5,7],"page-size":1,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":function(t){arguments[0]=t=e.$handleEvent(t),e.handleSizeChange.apply(void 0,arguments)},"current-change":function(t){arguments[0]=t=e.$handleEvent(t),e.handleCurrentChange.apply(void 0,arguments)}}})],1)],1)},n=[]},b97b:function(e,t,a){"use strict";var r=a("7251"),n=a.n(r);n.a},bd9a:function(e,t,a){var r=a("8dc8");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("967d").default;n("160dd9c4",r,!0,{sourceMap:!1,shadowMode:!1})},c75e:function(e,t,a){"use strict";a.r(t);var r=a("2e5c"),n=a.n(r);for(var s in r)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(s);t["default"]=n.a},d983:function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("fe49"),n={name:"rights",data:function(){return{rightsList:[]}},methods:{getRightsList:function(){var e=this;(0,r.get)("/rights/list").then((function(t){e.rightsList=t.data})).success((function(t){e.$message.success(t.meta.msg)})).error((function(t){e.$message.error(t.meta.msg)}))}},created:function(){this.getRightsList()}};t.default=n},de76:function(e,t,a){"use strict";a("6a54");var r=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d4b5"),a("c223"),a("aa9c"),a("bf0f"),a("2797");var n=r(a("2634")),s=r(a("2fdc")),i=a("fe49"),l={name:"roles",data:function(){return{rolesList:[],editDialogVisible:!1,DialogVisible:!1,assiginVisible:!1,rightsList:[],treeProps:{children:"children",label:"authName"},leafKeys:[],roleId:"",roleById:"",roleName:"",roleDesc:"",editRoleForm:{roleName:"",roleDesc:"",id:""}}},methods:{getRolesList:function(){var e=this;return(0,s.default)((0,n.default)().mark((function t(){var a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,i.get)("/roles");case 2:if(a=t.sent,e.rolesList=a.data,200===a.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("获取角色列表失败"));case 6:case"end":return t.stop()}}),t)})))()},showDialogVisible:function(e){this.editDialogVisible=!0,this.editRoleForm=JSON.parse(JSON.stringify(e.row)),console.log(this.editRoleForm)},removeRoleById:function(e,t){var a=this;return(0,s.default)((0,n.default)().mark((function r(){var s,l;return(0,n.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,a.$confirm("此操作将永久删除该文件，是否继续？","提示",{confirmButtonTest:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(s=r.sent,console.log(s),"confirm"===s){r.next=6;break}return r.abrupt("return",a.$message.info("已取消删除"));case 6:return r.next=8,(0,i.del)("/roles/".concat(e.id,"/rights/").concat(t));case 8:if(l=r.sent,200===l.meta.status){r.next=11;break}return r.abrupt("return",a.$message.error("删除权限失败"));case 11:e.children=l.data;case 12:case"end":return r.stop()}}),r)})))()},addRoles:function(){var e=this;return(0,s.default)((0,n.default)().mark((function t(){var a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.DialogVisible=!1,t.next=3,(0,i.post)("/roles",{roleName:e.roleName,roleDesc:e.roleDesc});case 3:a=t.sent,console.log(a),e.getRolesList();case 6:case"end":return t.stop()}}),t)})))()},assignPermission:function(e){var t=this;return(0,s.default)((0,n.default)().mark((function a(){var r;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.roleId=e.id,a.next=3,(0,i.get)("/rights/tree");case 3:r=a.sent,t.rightsList=r.data,200!==r.meta.status&&t.$message.error("获取权限失败"),console.log(t.leafKeys),t.getLeafKeys(e,t.leafKeys),t.assiginVisible=!0;case 9:case"end":return a.stop()}}),a)})))()},getLeafKeys:function(e,t){var a=this;e.children?e.children.forEach((function(e){a.getLeafKeys(e,t)})):t.push(e.id)},empty:function(){this.leafKeys=[],this.roleName="",this.roleDesc=""},allotRights:function(){var e=this;return(0,s.default)((0,n.default)().mark((function t(){var a,r,s;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[e.$refs.treeRef.getCheckedKeys(),e.$refs.treeRef.getHalfCheckedKeys()],r=a.join(","),t.next=4,(0,i.post)("/roles/".concat(e.roleId,"/rights"),{rids:r});case 4:s=t.sent,console.log(s),200!==s.meta.status&&e.$message.error("分配权限失败"),e.$message.success("分配权限成功"),e.getRolesList(),e.assiginVisible=!1;case 10:case"end":return t.stop()}}),t)})))()},deleteRole:function(e){var t=this;return(0,s.default)((0,n.default)().mark((function a(){var r;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.roleById=e.id,a.next=3,(0,i.del)("/roles/".concat(t.roleById));case 3:r=a.sent,console.log(r),200!==r.meta.status&&t.$message.error("删除角色失败"),t.$message.success("删除角色成功"),t.getRolesList();case 8:case"end":return a.stop()}}),a)})))()},editRole:function(){var e=this;return(0,s.default)((0,n.default)().mark((function t(){var a,r;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.editRoleForm.id,t.next=3,(0,i.put)("roles/".concat(a),{roleName:e.editRoleForm.roleName,roleDesc:e.editRoleForm.roleDesc});case 3:r=t.sent,console.log(r),200!==r.meta.status&&e.$message.error("修改角色失败"),e.$message.success("修改角色成功"),e.getRolesList(),e.editDialogVisible=!1;case 9:case"end":return t.stop()}}),t)})))()}},created:function(){this.getRolesList()}};t.default=l},df59:function(e,t,a){var r=a("c86c");t=r(!1),t.push([e.i,".item[data-v-4884299b]{margin-right:10px}.el-cascader[data-v-4884299b]{width:50%}[data-v-4884299b] ::-webkit-scrollbar{display:none;width:0;height:0}.button[data-v-4884299b]{margin:10px 10px}.categories[data-v-4884299b]{width:98%;height:560px;background-color:#fff;margin-top:10px;border-radius:10px;box-shadow:-2px 5px 10px #d0d2d6;padding:10px\n}",""]),e.exports=t},dfa9:function(e,t,a){"use strict";a.r(t);var r=a("4fab"),n=a.n(r);for(var s in r)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(s);t["default"]=n.a},e7c2:function(e,t,a){"use strict";a("6a54");var r=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d4b5");var n=r(a("2634")),s=r(a("2fdc")),i=a("fe49"),l={name:"categories",data:function(){return{cateVisible:!1,categoriesList:[],editCateList:[],pageInfo:{type:3,pagenum:1,pagesize:5},addCateForm:{cat_pid:0,cat_name:"",cat_level:0},editCateFormRules:{cat_name:[{required:!0,message:"请输入分类名称",trigger:"blur"}]},editCateVisible:!1,addCateFormRules:{cat_name:[{required:!0,message:"请输入分类名称",trigger:"blur"}]},parentCate:"",columns:[{label:"分类名称",prop:"cat_name"},{label:"是否有效",type:"template",template:"isok"},{label:"排序",type:"template",template:"order"},{label:"操作",type:"template",template:"operate"}],parentCateList:[],total:0,catName:""}},methods:{getCategoriesList:function(){var e=this;return(0,s.default)((0,n.default)().mark((function t(){var a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,i.get)("/categories",e.pageInfo);case 2:if(a=t.sent,200===a.meta.status){t.next=5;break}return t.abrupt("return",e.$message.error("获取分类列表失败"));case 5:e.total=a.data.total,e.categoriesList=a.data.result;case 7:case"end":return t.stop()}}),t)})))()},showAddcate:function(){this.getParentCateList(),this.cateVisible=!0},handleSizeChange:function(e){this.pageInfo.pagesize=e,this.getCategoriesList()},handleCurrentChange:function(e){this.pageInfo.pagenum=e,this.getCategoriesList()},editCategories:function(e){var t=this,a=this.editCateList.cat_id;this.catName=e,this.$refs.editCateFormRef.validate(function(){var e=(0,s.default)((0,n.default)().mark((function e(r){var s;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=8;break}return e.next=3,(0,i.put)("categories/".concat(a),{cat_name:t.catName});case 3:s=e.sent,200!==s.meta.status&&t.$message.error("修改分类失败"),t.$message.success("修改分类成功"),t.editCateVisible=!1,t.getCategoriesList();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},delCate:function(e){var t=this;return(0,s.default)((0,n.default)().mark((function a(){var r;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,(0,i.del)("categories/".concat(e));case 2:r=a.sent,console.log(r),200!==r.meta.status&&t.$message.error("删除分类失败"),t.$message.success("删除分类成功"),t.getCategoriesList();case 7:case"end":return a.stop()}}),a)})))()},addcategories:function(){var e=this;this.$refs.addCateFormRef.validate(function(){var t=(0,s.default)((0,n.default)().mark((function t(a){var r;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=8;break}return t.next=3,(0,i.post)("/categories",e.addCateForm);case 3:r=t.sent,e.cateVisible=!1,e.getCategoriesList(),201!==r.meta.status&&e.$message.error("添加商品分类失败"),e.$message.success("添加商品分类成功");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},showEditCate:function(e){this.editCateList=JSON.parse(JSON.stringify(e.row)),this.editCateVisible=!0},getParentCateList:function(){var e=this;return(0,s.default)((0,n.default)().mark((function t(){var a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,i.get)("/categories",{type:2});case 2:a=t.sent,200!==a.meta.status&&e.$message.error("获取父级分类失败"),e.parentCateList=a.data;case 5:case"end":return t.stop()}}),t)})))()},parentCateChange:function(){0===this.parentCate.length?(this.addCateForm.cat_level=0,this.addCateForm.cat_pid=0):1===this.parentCate.length?(this.addCateForm.cat_level=1,this.addCateForm.cat_pid=this.parentCate[0]):2===this.parentCate.length&&(this.addCateForm.cat_level=2,this.addCateForm.cat_pid=this.parentCate[1])},empty:function(){this.$refs.cascaderRef.checkedValue="",this.addCateForm.cat_level=0,this.addCateForm.cat_pid=0,this.addCateForm.cat_name=""}},created:function(){this.getCategoriesList()}};t.default=l},edc7:function(e,t,a){"use strict";a("6a54");var r=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("2634")),s=r(a("2fdc"));a("d4b5"),a("c223");var i=a("fe49"),l={name:"params",data:function(){return{params:[],param:"",activeName:"first",paramsManyList:[],paramsOnlyList:[],addAttr:{attr_name:"",attr_sel:"",attr_vals:""},editAttr:{attr_name:"",attr_sel:"",attr_vals:"",attr_id:""},editAttrVisible:!1,addParamsVisible:!1,addAttrRules:{attr_name:[{required:!0,message:"请输入参数名称",trigger:"blur"}],attr_sel:[{required:!0,message:"请选择参数类型",trigger:"blur"}]},editAttrRules:{attr_name:[{required:!0,message:"请输入参数名称",trigger:"blur"}],attr_sel:[{required:!0,message:"请选择参数类型",trigger:"blur"}]}}},methods:{getCategories:function(){var e=this;(0,i.get)("categories",{type:3}).then((function(t){e.params=t.data}))},handleChange:function(){this.getParamsMany(),this.getParamsOnly()},getParamsMany:function(){var e=this;(0,i.get)("categories/"+this.param[this.param.length-1]+"/attributes",{sel:"many"}).then((function(t){e.paramsManyList=t.data,console.log(e.paramsManyList)}))},getParamsOnly:function(){var e=this;(0,i.get)("categories/"+this.param[this.param.length-1]+"/attributes",{sel:"only"}).then((function(t){e.paramsOnlyList=t.data,console.log(e.paramsOnlyList)}))},editParams:function(e){this.editAttr=JSON.parse(JSON.stringify(e.row)),this.editAttrVisible=!0},addParams:function(){3===this.param.length?this.addParamsVisible=!0:this.$message.error("选择的商品分类不为第三级，请更改")},addAttrSure:function(){var e=this;this.$refs.addAttrRef.validate(function(){var t=(0,s.default)((0,n.default)().mark((function t(a){var r,s;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=11;break}return r=e.param[2],t.next=4,(0,i.post)("categories/".concat(r,"/attributes"),e.addAttr);case 4:s=t.sent,console.log(s),200!==s.meta.status&&e.$message.error("添加参数失败"),e.$message.success("添加参数成功"),e.getParamsMany(),e.getParamsOnly(),e.addParamsVisible=!1;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},editAttrSure:function(){var e=this;this.$refs.editAttrRef.validate(function(){var t=(0,s.default)((0,n.default)().mark((function t(a){var r,s;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=13;break}return r=e.editAttr.cat_id,console.log(r,e.editAttr.attr_id),console.log(e.editAttr),t.next=6,(0,i.put)("categories/".concat(r,"/attributes/").concat(e.editAttr.attr_id),{attr_name:e.editAttr.attr_name,attr_sel:e.editAttr.attr_sel,attr_vals:e.editAttr.attr_vals});case 6:s=t.sent,console.log(s),200!==s.meta.status&&e.$message.error("编辑参数失败"),e.$message.success("编辑参数成功"),e.getParamsMany(),e.getParamsOnly(),e.editAttrVisible=!1;case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},deleteAttr:function(e){var t=this;return(0,s.default)((0,n.default)().mark((function a(){var r;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e),a.next=3,(0,i.del)("categories/".concat(e.cat_id,"/attributes/").concat(e.attr_id));case 3:r=a.sent,console.log(r),200!==r.meta.status&&t.$message.error("删除参数失败"),t.$message.success("删除参数成功"),t.getParamsMany(),t.getParamsOnly();case 9:case"end":return a.stop()}}),a)})))()},empty:function(){this.$refs.addAttrRef.resetFields(),this.addAttr.attr_vals=""}},created:function(){this.getCategories(),this.getParamsMany(),this.getParamsOnly()}};t.default=l},f071:function(e,t,a){var r=a("5fe5");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("967d").default;n("81247744",r,!0,{sourceMap:!1,shadowMode:!1})},f8fc:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticClass:"reports"},[this._v("111"),t("v-uni-view",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"chart"}})],1)},n=[]},fbb7:function(e,t,a){"use strict";a.r(t);var r=a("d983"),n=a.n(r);for(var s in r)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(s);t["default"]=n.a},fbe1:function(e,t,a){var r=a("df59");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("967d").default;n("66e2bac5",r,!0,{sourceMap:!1,shadowMode:!1})}}]);